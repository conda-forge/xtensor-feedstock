# This file was generated automatically from conda-smithy. To update this configuration,
# update the conda-forge.yml and/or the recipe/meta.yaml.

language: generic

os: osx
osx_image: beta-xcode6.1

env:
  global:
    # The BINSTAR_TOKEN secure variable. This is defined canonically in conda-forge.yml.
    - secure: "iSdCmgWJDBRCyTsJnFHg7peeAtDBNFFzocBybY1MhJaZ5myGnq+6izDUtoxpg7qy4CWoYaD6nOMRlvuYCKPVyJ4bpqj5BHxILfhzz2Idgu+3usw7eaDL8Px1w3wal0oOtPxSM81uEa1J63gYD3fjm3gSXde2o5WRJ9sOprkyWRHHZJ6vbvbxqY/fVnEZ68gKPU3iSTkmeeFAavzFiDV3A+BXqarmlbvW4fHAWF1FO5Semashp2rb/y4G1wzQIOSbprj/XPkhRIGaQDwsd4UFX9NwUBQAFE3vFOCwmAp9okflm+Sv5KAI3EiVsyRYEtGe13XrXTi2+WHl2VkpT4Lz5Mbs7HEKIhUE8wCG6LNUkajg2xkwwAjg2Gr5H7AvusYSglKqnmHo2A8HZ2Zb5ar+2JDmzCRe+xZP4gNNqNy8wheZnqhvGvaDCudYMJdCdpMeYjIDFVbVemsPvSJHxjZ0QiYpLy8iH0AZ7ALfOSbIViqQh/PX70E4yi+boFJY/FunHmB/0VJjGk1+eMjiOno3zSMaLU9vMS6GCuKc9CifTChTkQzWUbLTINfd/ZGpO4+eUJzT2DF5xpPgo/Qzua5xUbKwWApAR2SNEONNPhVmJq2XxfBE7uwDuWJu4DrelXt8RucY9/hieFzKo6CM6eN2fjWHUaqTrEiQnFrCJXKTmTc="


before_install:
    # Remove homebrew.
    - brew remove --force $(brew list)
    - brew cleanup -s
    - rm -rf $(brew --cache)

install:
    - |
      MINICONDA_URL="https://repo.continuum.io/miniconda"
      MINICONDA_FILE="Miniconda3-latest-MacOSX-x86_64.sh"
      curl -L -O "${MINICONDA_URL}/${MINICONDA_FILE}"
      bash $MINICONDA_FILE -b

      source /Users/travis/miniconda3/bin/activate root
      conda config --add channels conda-forge
      conda config --set show_channel_urls true
      conda install --yes --quiet conda-forge-build-setup
      source run_conda_forge_build_setup

script:
  - conda build ./recipe

  - upload_or_check_non_existence ./recipe conda-forge --channel=main
